
<div class="container">
    <div class="process-status">
        <h1>Historial de pedidos</h1>
    </div>
        <div class="row profile">
            <header class="col-12 pt-2 pb-1 mb-3 border-bottom">
                <h2 class="p-1">Hola {{user?.nombre}}!</h2>
            </header>
            <section class="container-fluid p-0">
            <article class="row p-1">
                <div class="col-sm-12 col-md-2 align-self-center">
                    <img class="p-5 p-md-0 align-self-md-start align-self-center mr-2 img-thumbnail border-0 img" [src]="profilePhoto">
                </div>
                <div class="p-2 col-sm-12 col-md-5 media-body">
                    <h6>Nombre: {{user?.nombre}}</h6>
                    <h6>Apellido Paterno: {{user?.apellidoPaterno}}</h6>
                    <h6>Apellido Materno: {{user?.apellidoMaterno}}</h6>
                </div>
                <div class="p-2 col-sm-12 col-md-5 h-25">
                    <p class="m-1">Email: <span class="text-success">{{user?.correo}}</span></p>
                    <div class="card bg-light border-white overflow-auto p-2">
                        <p>
                            Bio: {{(user?.bio) ? user?.bio : 'Hola! acabo de hacerme una cuenta en Softpet'}} 
                        </p>
                        
                    </div>
                </div>
            </article>
        </section>
    </div>
    <div class="row pb-5">
        <div class="col-12">
            <div class="card" *ngFor="let orden of Order; let index = index">
                <div *ngIf="orden.user && orden.user[0]?.correo == user?.correo">
                    <div class="card-header" (click)="showSubItem(index)">
                        <div class="row">
                            <div class="col-sm-4">
                              Orden: {{orden._id}}
                            </div>
                            <div class="col-sm-4">
                            Cantidad: {{orden.cantidadTotal}}
                            </div> 
                            <div class="col-sm-4">
                                Total: {{orden.total | currency}}
                            </div>   
                        </div>
                    </div>
                    <ng-container class="overflow-auto" style="height: 25rem;" *ngIf="visibleIndex === index">
                        <div class="card-body"  *ngFor="let product of orden.cart;">
                            <div class="media">
                                <img style="width: 5rem;" src="{{product.imagen}}" class="align-self-center mr-3" alt="...">
                                <div class="media-body">
                                  <h6 class="mt-0">{{product.nombre}}</h6>
                                  <p>{{product.precio | currency}}</p>
                              </div>
                            </div>
                      </div>
                    </ng-container>
                </div>
            </div>
        </div>
</div>